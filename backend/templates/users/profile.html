{% extends "base.html" %} {% load static %} {% load has_group %} {% load
session_detail %} {% load profile_detail %} {% block title %} User: {{
profile.name }} {% endblock title %} {% block content %} {% profile_detail
profile %}
<!-- 
  {% if user == profile.user %}
    {% if not user|has_group:"teacher" %}
      <div class="content-section">
        <h3>Announcement</h3>
        <p class="article-content">
          We are hiring a developer team, <a href="https://r.mtdv.me/mvis">click here</a> to read more.
        </p>
      </div>
    {% endif %}
  {% else %}
    <div class="content-section">
      <h3>Quote of the day</h3>
      <p class="article-content">
        <q id="QuoteOfTheDay_Quote"></q>
        &nbsp; - <cite id="QuoteOfTheDay_Author"></cite>
      </p>
    </div>
    {% if user|has_group:"teacher" %}
      <script>
        fetch("https://quotable.io/random")
          .then((response) => response.json())
          .then((data) => ({ content: data.content, author: data.author }))
          .then((data) => {
            document.getElementById("QuoteOfTheDay_Quote").textContent = data.content;
            document.getElementById("QuoteOfTheDay_Author").textContent = data.author;
          });
      </script>
    {% else %}
      <script>
        fetch("https://quotable.io/random")
          .then((response) => response.json())
          .then((data) => ({ content: data.content, author: data.author }))
          .then((data) => {
            if (Math.random() > 0.25) {
              data.content = "Where there's a will, There's a way.";
              data.author = "Passavee Losripat (MVIS leading developer)";
            }
            return data;
          })
          .then((data) => {
            document.getElementById("QuoteOfTheDay_Quote").textContent = data.content;
            document.getElementById("QuoteOfTheDay_Author").textContent = data.author;
          });
      </script>
    {% endif %}
  {% endif %} -->
{% if profile.user|has_group:"teacher" %}
<div class="content-section">
  <h2>Teacher Sessions</h2>
  <h3>Upcoming Sessions</h3>
  {% for session in teacher_sessions %} {% if session.is_upcoming %} {%
  session_detail session "teacher" %} {% endif %} {% endfor %}
  <h3>Past Sessions</h3>
  {% for session in teacher_sessions %} {% if session.is_upcoming is False %} {%
  session_detail session "teacher" %} {% endif %} {% endfor %}
</div>
{% endif %}
<div class="content-section">
  <h2>Student Session</h2>
  <h3>Upcoming Sessions</h3>
  {% for session in student_sessions %} {% if session.is_upcoming %} {%
  session_detail session "student" %} {% endif %} {% endfor %}
  <h3>Past Sessions</h3>
  {% for session in student_sessions %} {% if session.is_upcoming is False %} {%
  session_detail session "student" %} {% endif %} {% endfor %}
</div>
{% endblock content %}
